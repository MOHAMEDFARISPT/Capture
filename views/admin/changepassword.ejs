



<%- include('../adminpartials/header')%>

<%- include('../adminpartials/slidebar')%>





<div class="page-body ">
  

    
   
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-sm-8 m-auto">
                    <div class="card">
                        <div class="card-body">
                            <div class="card-header-2">
                                <h5>Change password</h5>
                            </div>

                            <form class="theme-form theme-form-2 mega-form" id="change-password" action="/change-password-post" method="post" onsubmit="return validatePasswordChangeForm();">



                                <!-- Current Password -->
                 <!-- Current Password -->
<div class="mb-4 row align-items-center">
    <label class="form-label-title col-sm-3 mb-5">Current Password</label>
    <div class="col-sm-9 position-relative">
        <input class="form-control" type="password" id="CurrentPass" name="CurrentPass" placeholder="Enter your Current Password"> <span toggle="#CurrentPass" class="fa fa-fw fa-eye field-icon toggle-password"></span>
        
        <span id="CurrentPassError" class="text-danger"></span>
    </div>
</div>

<!-- New Password -->
<div class="mb-4 row align-items-center">
    <label class="form-label-title col-sm-3 mb-5">New Password</label>
    <div class="col-sm-9 position-relative">
        <input class="form-control" type="password" id="newPass" name="newPass" placeholder="Enter Your New Password">
        <span toggle="#newPass" class="fa fa-fw fa-eye field-icon toggle-password"></span>
        <span id="newPassError" class="text-danger"></span>
    </div>
</div>

<!-- Confirm Password -->
<div class="mb-4 row align-items-center">
    <label class="form-label-title col-sm-3 mb-0">Confirm Password</label>
    <div class="col-sm-9 position-relative">
        <input class="form-control" type="password" id="confirmpass" name="confirmpass" placeholder="Confirm Your Password">
        <span toggle="#confirmpass" class="fa fa-fw fa-eye field-icon toggle-password"></span>
        <span id="confirmpassError" class="text-danger"></span>
    </div>
</div>

                              
                                <!-- Submit Button -->
                                <div class="mb-4 row align-items-center">
                                    <div class="col-sm-9 offset-sm-3">
                                        <button type="submit" class="btn btn-primary" id="submitButton">Save</button>

                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
    <!-- New Product Add End -->

    <!-- footer Start -->
    <div class="container-fluid">
        <footer class="footer">
            <div class="row">
                <div class="col-md-12 footer-copyright text-center">
                    <p class="mb-0">Copyright 2022 Â© Fastkart theme by pixelstrap</p>
                </div>
            </div>
        </footer>
    </div>
    
<%- include('../adminpartials/footer')%>
    
    <!-- footer En -->


    <script>
        function validatePasswordChangeForm() {
            var currentPass = document.getElementById('CurrentPass').value;
            var newPass = document.getElementById('newPass').value;
            var confirmPass = document.getElementById('confirmpass').value;
            var isValid = true;
        
            // Reset error messages
            document.getElementById('CurrentPassError').textContent = '';
            document.getElementById('newPassError').textContent = '';
            document.getElementById('confirmpassError').textContent = '';
        
            // Validate current password
            if (!currentPass) {
                document.getElementById('CurrentPassError').textContent = 'Current password is required.';
                isValid = false;
            }
        
            // Validate new password for length and complexity
            if (newPass.length < 8 || !/[a-zA-Z]/.test(newPass) || !/[0-9]/.test(newPass) || !/[^a-zA-Z0-9]/.test(newPass)) {
                document.getElementById('newPassError').textContent = 'Password must be at least 8 characters long and include letters, numbers, and special characters.';
                isValid = false;
            }
        
            // Validate confirm password matches new password
            if (newPass !== confirmPass) {
                document.getElementById('confirmpassError').textContent = 'Confirm password does not match the new password.';
                isValid = false;
            }
        
            return isValid; // Only submit form if isValid is true
        }
        </script>


<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Toggle the password visibility
        document.querySelectorAll('.toggle-password').forEach(function(item) {
            item.addEventListener('click', function(e) {
                // Toggle the type attribute
                const input = document.querySelector(e.target.getAttribute("toggle"));
                if (input.getAttribute("type") == "password") {
                    input.setAttribute("type", "text");
                    e.target.classList.remove('fa-eye');
                    e.target.classList.add('fa-eye-slash');
                } else {
                    input.setAttribute("type", "password");
                    e.target.classList.remove('fa-eye-slash');
                    e.target.classList.add('fa-eye');
                }
            });
        });
    });
    </script>
    
        

